(()=>{var e={};e.id=161,e.ids=[161],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13247:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(60687),r=s(43210),l=s(17998),n=s(96235),i=s(49651),o=s(10151),d=s(49946),c=s(31740),x=s(55943),m=s(59425),u=s(17236),p=s(55970);s(47565);var h=s(93362);function j(){let[e,t]=(0,r.useState)([]),[s,j]=(0,r.useState)(!0),[f,v]=(0,r.useState)(null),[g,w]=(0,r.useState)(""),[b,N]=(0,r.useState)("all"),[y,A]=(0,r.useState)("all"),[k,L]=(0,r.useState)("date"),[C,E]=(0,r.useState)("desc"),P=(0,r.useMemo)(()=>{let t=e;return"all"!==b&&(t=t.filter(e=>e.status===b)),"all"!==y&&(t=t.filter(e=>e.type===y)),g&&(t=t.filter(e=>e.id?.toLowerCase().includes(g.toLowerCase())||e.loanId?.toLowerCase().includes(g.toLowerCase())||e.reference?.toLowerCase().includes(g.toLowerCase())||e.loan?.user?.firstName?.toLowerCase().includes(g.toLowerCase())||e.loan?.user?.lastName?.toLowerCase().includes(g.toLowerCase())||e.loan?.user?.email?.toLowerCase().includes(g.toLowerCase()))),t.sort((e,t)=>{let s=0;switch(k){case"date":s=new Date(t.paidAt||t.processedAt||t.createdAt).getTime()-new Date(e.paidAt||e.processedAt||e.createdAt).getTime();break;case"amount":s=t.amount-e.amount;break;case"user":let a=`${e.loan?.user?.firstName||"Unknown"} ${e.loan?.user?.lastName||"User"}`.toLowerCase(),r=`${t.loan?.user?.firstName||"Unknown"} ${t.loan?.user?.lastName||"User"}`.toLowerCase();s=a.localeCompare(r)}return"asc"===C?-s:s}),t},[g,b,y,k,C,e]),q=(0,r.useMemo)(()=>{let e=P.length,t=P.reduce((e,t)=>e+t.amount,0),s=P.filter(e=>"COMPLETED"===e.status).length,a=P.filter(e=>"PENDING"===e.status).length;return{totalPayments:e,totalAmount:t,completedPayments:s,pendingPayments:a,failedPayments:P.filter(e=>"FAILED"===e.status).length,averageAmount:e>0?t/e:0}},[P]),D=e=>{switch(e){case"COMPLETED":return n.A;case"PENDING":return i.A;case"FAILED":return o.A;default:return d.A}};return s?(0,a.jsx)(l.A,{children:(0,a.jsx)("div",{className:"py-8 sm:py-12 md:py-16 lg:py-20 bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading payment history..."})]})})})}):f?(0,a.jsx)(l.A,{children:(0,a.jsx)("div",{className:"py-8 sm:py-12 md:py-16 lg:py-20 bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.A,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-slate-600 mb-6",children:f}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition-colors",children:"Try Again"})]})})})}):(0,a.jsx)(l.A,{children:(0,a.jsx)("div",{className:"py-8 sm:py-12 md:py-16 lg:py-20 bg-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8 sm:mb-12",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-3 sm:mb-4",children:"Payment Management"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-slate-600",children:"Monitor and manage all loan payments across the platform"})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Total Payments"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:q.totalPayments})]}),(0,a.jsx)(c.A,{className:"w-8 h-8 text-cyan-600"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Total Amount"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:(0,h.vv)(q.totalAmount)})]}),(0,a.jsx)(x.A,{className:"w-8 h-8 text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Completed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:q.completedPayments})]}),(0,a.jsx)(n.A,{className:"w-8 h-8 text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Average Amount"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:(0,h.vv)(q.averageAmount)})]}),(0,a.jsx)(m.A,{className:"w-8 h-8 text-blue-600"})]})})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by payment ID, loan ID, reference, or user name...",value:g,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors"})]})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("select",{value:b,onChange:e=>N(e.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,a.jsx)("option",{value:"PENDING",children:"Pending"}),(0,a.jsx)("option",{value:"FAILED",children:"Failed"})]}),(0,a.jsxs)("select",{value:y,onChange:e=>A(e.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"INSTALLMENT",children:"Installment"}),(0,a.jsx)("option",{value:"EARLY_REPAYMENT",children:"Early Repayment"}),(0,a.jsx)("option",{value:"LATE_FEE",children:"Late Fee"})]}),(0,a.jsxs)("select",{value:`${k}-${C}`,onChange:e=>{let[t,s]=e.target.value.split("-");L(t),E(s)},className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors",children:[(0,a.jsx)("option",{value:"date-desc",children:"Date (Newest)"}),(0,a.jsx)("option",{value:"date-asc",children:"Date (Oldest)"}),(0,a.jsx)("option",{value:"amount-desc",children:"Amount (High to Low)"}),(0,a.jsx)("option",{value:"amount-asc",children:"Amount (Low to High)"}),(0,a.jsx)("option",{value:"user-asc",children:"User (A-Z)"}),(0,a.jsx)("option",{value:"user-desc",children:"User (Z-A)"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsxs)("span",{className:"text-sm text-slate-600",children:[P.length," payment",1!==P.length?"s":""]})})]})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Payment History"}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-slate-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payment ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Loan ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Gateway"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Reference"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:P.map(e=>{let t=(0,h.DY)(e.status),s=D(e.status);return(0,a.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:e.id}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-slate-400 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.loan?.user?`${e.loan.user.firstName||""} ${e.loan.user.lastName||""}`.trim()||e.loan.user.email||e.loan.user.id:e.loan?.user?.email||e.loan?.user?.id||"Unknown"}),(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:e.loan?.user?.email||""})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:e.loanId}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-900",children:(0,h.vv)(e.amount)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:e.type?.replace("_"," ")})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:(0,h.Yq)(e.paidAt||e.processedAt||e.createdAt)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${t.bgColor} ${t.color}`,children:[(0,a.jsx)(s,{className:"w-3 h-3"}),t.label]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:e.gateway||"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:(0,a.jsx)("span",{className:"font-mono text-xs",children:e.reference})})]},e.id)})})]})})})]}),0===P.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(c.A,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No payments found"}),(0,a.jsx)("p",{className:"text-slate-600",children:g||"all"!==b||"all"!==y?"Try adjusting your search criteria or filters.":"No payments have been made yet."})]})]})})})}},17236:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36285:(e,t,s)=>{Promise.resolve().then(s.bind(s,13247))},42049:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/smart/projects/QuickFund-/quickFund/src/app/admin/repayments/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/smart/projects/QuickFund-/quickFund/src/app/admin/repayments/page.tsx","default")},44111:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=s(65239),r=s(48088),l=s(88170),n=s.n(l),i=s(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d={children:["",{children:["admin",{children:["repayments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,42049)),"/home/smart/projects/QuickFund-/quickFund/src/app/admin/repayments/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/smart/projects/QuickFund-/quickFund/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/smart/projects/QuickFund-/quickFund/src/app/admin/repayments/page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/repayments/page",pathname:"/admin/repayments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49651:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59425:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66141:(e,t,s)=>{Promise.resolve().then(s.bind(s,42049))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,64,571,417,622,656],()=>s(44111));module.exports=a})();