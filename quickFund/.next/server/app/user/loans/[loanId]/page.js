(()=>{var e={};e.id=496,e.ids=[496],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10151:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16002:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/smart/projects/QuickFund-/quickFund/src/app/user/loans/[loanId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/smart/projects/QuickFund-/quickFund/src/app/user/loans/[loanId]/page.tsx","default")},17998:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(60687),r=s(37919);function n(){return(0,a.jsxs)("footer",{className:"text-white text-sm text-center py-6",style:{backgroundColor:"var(--color-deep)"},children:["\xa9 ",new Date().getFullYear()," QuickFund. All rights reserved."]})}function l({children:e}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{}),(0,a.jsx)("main",{className:"flex flex-grow flex-col",children:e}),(0,a.jsx)(n,{})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31740:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},33873:e=>{"use strict";e.exports=require("path")},36466:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))})},39192:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var a=s(60687),r=s(43210),n=s(16189),l=s(41347),i=s(68457),o=s(88143),c=s(63553),d=s(46370),m=s(70059),x=s(85814),u=s.n(x);function h({isOpen:e,onClose:t,title:s="Access Denied",message:n="You don't have permission to access this page. Please contact your administrator if you believe this is an error.",showHomeButton:l=!0,showBackButton:x=!0}){return(0,a.jsx)(i.e.Root,{show:e,as:r.Fragment,children:(0,a.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:t,children:[(0,a.jsx)(i.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-slate-900/75 backdrop-blur-sm"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(i.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(o.lG.Panel,{className:"relative transform overflow-hidden rounded-2xl bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(c.A,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,a.jsx)(o.lG.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-slate-900",children:s}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-slate-600",children:n})})]})]}),(0,a.jsxs)("div",{className:"mt-6 sm:mt-4 sm:flex sm:flex-row-reverse gap-3",children:[l&&(0,a.jsxs)(u(),{href:"/user",className:"inline-flex w-full justify-center rounded-lg bg-cyan-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-cyan-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600 sm:w-auto",onClick:t,children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Go to Dashboard"]}),x&&(0,a.jsxs)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-lg bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50 sm:mt-0 sm:w-auto",onClick:t,children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})]})})})})]})})}function p({children:e,fallback:t,requiredRole:s,redirectTo:i="/login"}){let o=(0,n.useRouter)(),{user:c,isAuthenticated:d,isLoading:m}=(0,l.nc)(),[x,u]=(0,r.useState)(!1),[p,y]=(0,r.useState)(!1);return!x||m?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading..."})]})}):d?s&&c?.role!==s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{isOpen:p,onClose:()=>{y(!1),c?.role==="ADMIN"?o.push("/admin"):o.push("/user")},title:"Access Denied",message:`This page requires ${s} privileges. You currently have ${c?.role} access.`,showHomeButton:!0,showBackButton:!1}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Checking permissions..."})]})})]}):(0,a.jsx)(a.Fragment,{children:e}):t||(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Redirecting to login..."})]})})}},40883:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(51787);let r={makePayment:async(e,t)=>{try{return(await a.uE.post("/payments/repay",{loanId:e,amount:t.amount,type:"LOAN_REPAYMENT",paymentMethod:t.paymentMethod?.toLowerCase()||"card",notes:t.notes,...t.cardNumber&&{cardNumber:t.cardNumber},...t.expiry&&{expiry:t.expiry},...t.cvv&&{cvv:t.cvv},...t.virtualAccountNumber&&{virtualAccountNumber:t.virtualAccountNumber}})).data}catch(e){throw console.error("Failed to make payment:",e),e}},getPaymentHistory:async(e,t)=>{try{let s=await a.uE.get(`/payments/loan/${e}/payments`,{params:t});return{payments:s.data.payments||[],total:s.data.pagination?.total||0,page:s.data.pagination?.page||1,limit:s.data.pagination?.limit||10}}catch(e){throw console.error("Failed to fetch payment history:",e),e}},getMyPayments:async e=>{try{return(await a.uE.get("/payments/my-payments",{params:e})).data}catch(e){throw console.error("Failed to fetch user payments:",e),e}},getPayment:async e=>{try{return(await a.uE.get(`/payments/${e}`)).data}catch(e){throw console.error("Failed to fetch payment:",e),e}},getPaymentReceipt:async e=>{try{return(await a.uE.get(`/payments/${e}/receipt`,{responseType:"blob"})).data}catch(e){throw console.error("Failed to fetch payment receipt:",e),e}},cancelPayment:async e=>{try{await a.uE.delete(`/payments/${e}`)}catch(e){throw console.error("Failed to cancel payment:",e),e}},getPaymentMethods:async()=>{try{return(await a.uE.get("/payments/methods")).data}catch(e){throw console.error("Failed to fetch payment methods:",e),e}},addPaymentMethod:async e=>{try{return(await a.uE.post("/payments/methods",e)).data}catch(e){throw console.error("Failed to add payment method:",e),e}},removePaymentMethod:async e=>{try{await a.uE.delete(`/payments/methods/${e}`)}catch(e){throw console.error("Failed to remove payment method:",e),e}}}},45668:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))})},47547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=s(65239),r=s(48088),n=s(88170),l=s.n(n),i=s(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c={children:["",{children:["user",{children:["loans",{children:["[loanId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,16002)),"/home/smart/projects/QuickFund-/quickFund/src/app/user/loans/[loanId]/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/smart/projects/QuickFund-/quickFund/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/smart/projects/QuickFund-/quickFund/src/app/user/loans/[loanId]/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/user/loans/[loanId]/page",pathname:"/user/loans/[loanId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},49651:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},49946:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66784:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(60687),r=s(43210),n=s(16189),l=s(17998),i=s(39192),o=s(87865),c=s(40883),d=s(49946),m=s(70645),x=s(96235),u=s(10151),h=s(70059),p=s(55943),y=s(31740),g=s(49651),f=s(36466),j=s(45668);function b(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),s=e.loanId,[b,v]=(0,r.useState)(null),[w,N]=(0,r.useState)([]),[A,E]=(0,r.useState)(!0),[k,P]=(0,r.useState)(null),[F,L]=(0,r.useState)({totalPaid:0,remainingBalance:0,paymentsCount:0,nextPaymentDue:0}),M=async()=>{E(!0),P(null);try{let[e,t]=await Promise.all([o.p.getApplication(s),c.Z.getPaymentHistory(s,{limit:50})]);v(e),N(t.payments||e.paymentHistory||[]);let a=w.reduce((e,t)=>e+t.amount,0),r=Math.max(0,(e.totalAmount||e.amount)-a),n=e.monthlyPayment||0;L({totalPaid:a,remainingBalance:r,paymentsCount:w.length,nextPaymentDue:n})}catch(e){P(e.response?.data?.message||e.message||"Failed to load loan details.")}finally{E(!1)}},C=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),D=e=>new Date(e).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"}),T=e=>new Date(e).toLocaleString("en-NG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(A)return(0,a.jsx)(i.A,{children:(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"py-16 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading loan details..."})]})})});if(k)return(0,a.jsx)(i.A,{children:(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"py-16 text-center",children:[(0,a.jsx)(d.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-slate-600 mb-6",children:k}),(0,a.jsx)("button",{onClick:M,className:"px-6 py-3 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition-colors",children:"Try Again"})]})})});if(!b)return null;let R={PENDING:{label:"Pending",color:"text-yellow-600",bg:"bg-yellow-50",icon:m.A},APPROVED:{label:"Approved",color:"text-green-600",bg:"bg-green-50",icon:x.A},REJECTED:{label:"Rejected",color:"text-red-600",bg:"bg-red-50",icon:u.A},ACTIVE:{label:"Active",color:"text-blue-600",bg:"bg-blue-50",icon:x.A},COMPLETED:{label:"Completed",color:"text-gray-600",bg:"bg-gray-50",icon:x.A}},q=R[b.status]||R.PENDING;return(0,a.jsx)(i.A,{children:(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>t.push("/user/loans"),className:"text-cyan-600 hover:text-cyan-700 text-sm font-medium flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Back to Loans"]}),(0,a.jsxs)("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${q.bg} ${q.color}`,children:[(0,a.jsx)(q.icon,{className:"w-4 h-4"}),q.label]})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Loan Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-cyan-600"}),"Loan Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Loan Amount"}),(0,a.jsx)("p",{className:"text-xl font-bold text-slate-900",children:C(b.amount)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Purpose"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:b.purpose})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Term"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-slate-900",children:[b.term," months"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Interest Rate"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-slate-900",children:[b.interestRate,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Monthly Payment"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:C(b.monthlyPayment)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Total Amount"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:C(b.totalAmount)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Applied"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:D(b.createdAt)})]}),b.approvedDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Approved"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:D(b.approvedDate)})]}),b.disbursedDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Disbursed"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:D(b.disbursedDate)})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-6 h-6 text-cyan-600"}),"Payment History"]}),0===w.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600 mb-4",children:"No payments made yet for this loan."}),"ACTIVE"===b.status&&(0,a.jsx)("button",{onClick:()=>t.push(`/user/repayment/${b.id}`),className:"px-6 py-3 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition-colors",children:"Make Your First Payment"})]}):(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-slate-600 border-b border-slate-200",children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Date"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Amount"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Type"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Reference"})]})}),(0,a.jsx)("tbody",{children:w.map(e=>(0,a.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:D(e.paidAt||e.dueDate)}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:T(e.paidAt||e.dueDate)})]})}),(0,a.jsx)("td",{className:"px-4 py-3 font-semibold",children:C(e.amount)}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${"INSTALLMENT"===e.type?"bg-blue-50 text-blue-600":"EARLY_REPAYMENT"===e.type?"bg-green-50 text-green-600":"bg-orange-50 text-orange-600"}`,children:["INSTALLMENT"===e.type&&(0,a.jsx)(g.A,{className:"w-3 h-3"}),"EARLY_REPAYMENT"===e.type&&(0,a.jsx)(f.A,{className:"w-3 h-3"}),"LATE_FEE"===e.type&&(0,a.jsx)(d.A,{className:"w-3 h-3"}),e.type.replace("_"," ")]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${"COMPLETED"===e.status?"bg-green-50 text-green-600":"PENDING"===e.status?"bg-yellow-50 text-yellow-600":"bg-red-50 text-red-600"}`,children:["COMPLETED"===e.status&&(0,a.jsx)(x.A,{className:"w-3 h-3"}),"PENDING"===e.status&&(0,a.jsx)(m.A,{className:"w-3 h-3"}),"FAILED"===e.status&&(0,a.jsx)(u.A,{className:"w-3 h-3"}),e.status]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"font-mono text-xs text-slate-600",children:e.type||"N/A"})})]},e.id))})]})})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"w-5 h-5 text-cyan-600"}),"Payment Summary"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Total Paid:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:C(F.totalPaid)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Remaining Balance:"}),(0,a.jsx)("span",{className:`font-semibold ${F.remainingBalance>0?"text-red-600":"text-green-600"}`,children:C(F.remainingBalance)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Payments Made:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:F.paymentsCount})]}),"ACTIVE"===b.status&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Next Payment:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:C(F.nextPaymentDue)})]})]})]}),"ACTIVE"===b.status&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>t.push(`/user/repayment/${b.id}`),className:"w-full px-4 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-5 h-5"}),"Make Payment"]}),(0,a.jsxs)("button",{onClick:()=>t.push(`/user/agreement/${b.id}`),className:"w-full px-4 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5"}),"View Agreement"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Loan Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Status:"}),(0,a.jsx)("span",{className:`font-semibold ${q.color}`,children:q.label})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Applied:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:D(b.createdAt)})]}),b.updatedAt&&b.updatedAt!==b.createdAt&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Last Updated:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:D(b.updatedAt)})]})]})]})]})]})]})})})}},70645:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},74075:e=>{"use strict";e.exports=require("zlib")},75788:(e,t,s)=>{Promise.resolve().then(s.bind(s,66784))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},87865:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var a=s(51787);let r={applyForLoan:async e=>{try{return(await a.uE.post("/loans/apply",e)).data}catch(e){throw console.error("Failed to apply for loan:",e),e}},getMyApplications:async()=>{try{return(await a.uE.get("/loans/my-applications")).data}catch(e){throw console.error("Failed to fetch loan applications:",e),e}},getApplication:async e=>{try{return(await a.uE.get(`/loans/${e}`)).data}catch(e){throw console.error("Failed to fetch loan application:",e),e}},getMyLoans:async()=>{try{return(await a.uE.get("/loans/my-loans")).data}catch(e){throw console.error("Failed to fetch user loans:",e),e}},getLoanStats:async()=>{try{return(await a.uE.get("/loans/stats")).data}catch(e){throw console.error("Failed to fetch loan stats:",e),e}},makePayment:async(e,t,s="INSTALLMENT")=>{try{return(await a.uE.post(`/loans/${e}/payments`,{amount:t,type:s})).data}catch(e){throw console.error("Failed to make payment:",e),e}},getPaymentHistory:async e=>{try{return(await a.uE.get(`/loans/${e}/payments`)).data}catch(e){throw console.error("Failed to fetch payment history:",e),e}},cancelApplication:async e=>{try{await a.uE.delete(`/loans/applications/${e}`)}catch(e){throw console.error("Failed to cancel application:",e),e}},requestEarlyRepayment:async e=>{try{return(await a.uE.post(`/loans/${e}/early-repayment`)).data}catch(e){throw console.error("Failed to request early repayment:",e),e}},getLoanAgreement:async e=>{try{return(await a.uE.get(`/loans/${e}/agreement`)).data}catch(e){throw console.error("Failed to fetch loan agreement:",e),e}},acceptLoanAgreement:async e=>{try{await a.uE.post(`/loans/${e}/accept-agreement`)}catch(e){throw console.error("Failed to accept loan agreement:",e),e}}}},88940:(e,t,s)=>{Promise.resolve().then(s.bind(s,16002))},94735:e=>{"use strict";e.exports=require("events")},96235:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(43210);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,64,571,278,417,622],()=>s(47547));module.exports=a})();