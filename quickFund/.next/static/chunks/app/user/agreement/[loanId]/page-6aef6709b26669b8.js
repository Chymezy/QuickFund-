(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{245:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},7103:(e,t,a)=>{Promise.resolve().then(a.bind(a,95903))},22264:(e,t,a)=>{"use strict";a.d(t,{DY:()=>d,Yq:()=>c,kW:()=>l,vv:()=>i});var n=a(90319),r=a(27993),s=a(245);let l=[{id:"LOAN-001",amount:25e5,purpose:"Business Expansion",status:"approved",appliedDate:"2024-01-15",approvedDate:"2024-01-17",disbursedDate:"2024-01-18",term:"24 months",interestRate:"18%",monthlyPayment:125e3,remainingBalance:225e4,nextPaymentDate:"2024-02-18"},{id:"LOAN-002",amount:1e6,purpose:"Personal Expenses",status:"pending",appliedDate:"2024-01-20",approvedDate:null,disbursedDate:null,term:"12 months",interestRate:"20%",monthlyPayment:92e3,remainingBalance:null,nextPaymentDate:null},{id:"LOAN-003",amount:5e5,purpose:"Education",status:"rejected",appliedDate:"2024-01-10",approvedDate:null,disbursedDate:null,term:"18 months",interestRate:"22%",monthlyPayment:35e3,remainingBalance:null,nextPaymentDate:null,rejectionReason:"Insufficient income documentation"},{id:"LOAN-004",amount:3e6,purpose:"Home Improvement",status:"active",appliedDate:"2023-11-15",approvedDate:"2023-11-17",disbursedDate:"2023-11-18",term:"36 months",interestRate:"16%",monthlyPayment:105e3,remainingBalance:21e5,nextPaymentDate:"2024-02-18"},{id:"LOAN-005",amount:15e5,purpose:"Vehicle Purchase",status:"active",appliedDate:"2023-10-20",approvedDate:"2023-10-22",disbursedDate:"2023-10-23",term:"48 months",interestRate:"19%",monthlyPayment:45e3,remainingBalance:12e5,nextPaymentDate:"2024-02-23"},{id:"LOAN-006",amount:8e5,purpose:"Medical Expenses",status:"pending",appliedDate:"2024-01-25",approvedDate:null,disbursedDate:null,term:"15 months",interestRate:"21%",monthlyPayment:65e3,remainingBalance:null,nextPaymentDate:null}],o={pending:{label:"Under Review",icon:n.A,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},rejected:{label:"Rejected",icon:r.A,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"},active:{label:"Active",icon:s.A,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}},i=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),c=e=>new Date(e).toLocaleDateString("en-NG",{year:"numeric",month:"long",day:"numeric"}),d=e=>o[e]||o.pending},27993:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},36115:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},39072:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},52329:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})},57884:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(95155),r=a(52074);function s(){return(0,n.jsxs)("footer",{className:"text-white text-sm text-center py-6",style:{backgroundColor:"var(--color-deep)"},children:["\xa9 ",new Date().getFullYear()," QuickFund. All rights reserved."]})}function l(e){let{children:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.default,{}),(0,n.jsx)("main",{className:"flex flex-grow flex-col",children:t}),(0,n.jsx)(s,{})]})}},90319:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},95903:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(95155),r=a(12115),s=a(35695),l=a(57884),o=a(39072),i=a(52329),c=a(36115),d=a(245),m=a(97487),u=a(22264),p=a(83459);function h(){let e=(0,s.useParams)().loanId,[t,h]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null),[w,b]=(0,r.useState)(null),[v,j]=(0,r.useState)(!0),[N,A]=(0,r.useState)(null),D=(0,p.nc)(e=>e.user);if((0,r.useEffect)(()=>{let t=async()=>{j(!0),A(null);try{let t=await m.p.getApplication(e);f(t);let a=D?"".concat(D.firstName," ").concat(D.lastName):"Borrower",n=function(e,t){let a=(0,u.vv)(e.amount),n=e.term,r=e.interestRate,s=(0,u.Yq)(e.approvedDate||e.appliedDate||e.createdAt);return'\n    <div style="font-family: \'Segoe UI\', Arial, sans-serif; color: #222;">\n      <h2 style="text-align:center; margin-bottom: 1.5em;">Loan Agreement</h2>\n      <p>This Loan Agreement (the "Agreement") is made and entered into on <strong>'.concat(s,"</strong> by and between:</p>\n      <p><strong>Borrower:</strong> ").concat(t,"</p>\n      <p><strong>Lender:</strong> QuickFund</p>\n      <h3>Loan Details</h3>\n      <ul>\n        <li><strong>Loan Amount:</strong> ").concat(a,"</li>\n        <li><strong>Term:</strong> ").concat(n," months</li>\n        <li><strong>Interest Rate:</strong> ").concat(r,'%</li>\n      </ul>\n      <h3>Agreement Terms</h3>\n      <ol>\n        <li>The Lender agrees to lend the Borrower the amount stated above, subject to the terms and conditions of this Agreement.</li>\n        <li>The Borrower agrees to repay the loan in monthly installments as specified in the repayment schedule.</li>\n        <li>Interest will accrue on the outstanding balance at the rate specified above.</li>\n        <li>Late payments may incur additional fees as outlined in the platform\'s terms.</li>\n        <li>This Agreement is binding upon both parties and governed by the laws of Nigeria.</li>\n      </ol>\n      <p style="margin-top:2em;">Signed,</p>\n      <p><strong>Borrower:</strong> ').concat(t,"</p>\n      <p><strong>Lender:</strong> QuickFund</p>\n    </div>\n  ")}(t,a);b(n)}catch(e){var t,a;A((null==e||null==(a=e.response)||null==(t=a.data)?void 0:t.message)||(null==e?void 0:e.message)||"Failed to load agreement.")}finally{j(!1)}};e&&t()},[e,null==D?void 0:D.firstName,null==D?void 0:D.lastName]),v)return(0,n.jsx)(l.A,{children:(0,n.jsxs)("div",{className:"py-16 text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-slate-600",children:"Loading loan agreement..."})]})});if(N||!y)return(0,n.jsx)(l.A,{children:(0,n.jsx)("div",{className:"py-8 sm:py-12 md:py-16 lg:py-20 bg-white",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,n.jsx)(o.A,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Error"}),(0,n.jsx)("p",{className:"text-slate-600",children:N||"The loan agreement you're looking for doesn't exist."})]})})});let E=async()=>{if(w){h(!0);try{let t=(await Promise.all([a.e(262),a.e(998),a.e(501),a.e(71)]).then(a.t.bind(a,50156,23))).default,n=document.getElementById("agreement-content");if(!n)throw Error("Agreement content not found");await t().from(n).set({margin:.5,filename:"loan-agreement-".concat((null==y?void 0:y.id)||e,".pdf"),html2canvas:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}}).save(),g(!0),setTimeout(()=>g(!1),3e3)}catch(e){A("Failed to generate PDF. Please try again.")}finally{h(!1)}}};return(0,n.jsx)(l.A,{children:(0,n.jsx)("div",{className:"py-8 sm:py-12 md:py-16 lg:py-20 bg-white",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"mb-8 sm:mb-12",children:[(0,n.jsxs)("button",{onClick:()=>{window.location.href="/user/loans"},className:"inline-flex items-center gap-2 text-cyan-600 hover:text-cyan-700 mb-4 transition-colors",children:[(0,n.jsx)(i.A,{className:"w-4 h-4"}),"Back to My Loans"]}),(0,n.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-3 sm:mb-4",children:"Loan Agreement"}),(0,n.jsx)("p",{className:"text-sm sm:text-base text-slate-600",children:"Review and download your loan agreement document"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12",children:[(0,n.jsx)("div",{className:"lg:col-span-2",children:(0,n.jsx)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 sm:p-8",children:(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"LOAN AGREEMENT"}),(0,n.jsx)("div",{className:"space-y-6 text-sm",children:w?(0,n.jsx)("div",{id:"agreement-content",dangerouslySetInnerHTML:{__html:w}}):(0,n.jsx)("p",{className:"text-slate-600",children:"No agreement found for this loan."})})]})})}),(0,n.jsx)("div",{className:"lg:col-span-1",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 sm:p-8 sticky top-8",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Download Agreement"}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-cyan-50 p-4 rounded-lg",children:[(0,n.jsx)("h3",{className:"font-semibold text-cyan-900 mb-2",children:"Loan Summary"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-cyan-700",children:"Loan ID:"}),(0,n.jsx)("span",{className:"font-semibold text-cyan-900",children:y.id})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-cyan-700",children:"Amount:"}),(0,n.jsx)("span",{className:"font-semibold text-cyan-900",children:(0,u.vv)(y.amount)})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-cyan-700",children:"Status:"}),(0,n.jsx)("span",{className:"font-semibold text-cyan-900 capitalize",children:y.status})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-cyan-700",children:"Approved:"}),(0,n.jsx)("span",{className:"font-semibold text-cyan-900",children:(0,u.Yq)(y.approvedDate||y.appliedDate)})]})]})]}),(0,n.jsx)("button",{onClick:E,disabled:t,className:"w-full px-6 py-4 bg-cyan-600 text-white font-semibold rounded-lg shadow-md hover:bg-cyan-700 focus:bg-cyan-700 active:bg-cyan-800 hover:scale-105 focus:scale-105 active:scale-95 hover:shadow-lg focus:shadow-lg active:shadow-md transition-all duration-300 touch-manipulation select-none disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating PDF..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{className:"w-5 h-5"}),"Download PDF"]})}),x&&(0,n.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg flex items-center gap-2",children:[(0,n.jsx)(d.A,{className:"w-5 h-5 text-green-600"}),(0,n.jsx)("span",{className:"text-sm text-green-800",children:"PDF downloaded successfully!"})]}),(0,n.jsxs)("div",{className:"text-xs text-slate-500 space-y-2",children:[(0,n.jsx)("p",{children:"• PDF will be generated with your loan details"}),(0,n.jsx)("p",{children:"• Document is legally binding once signed"}),(0,n.jsx)("p",{children:"• Keep a copy for your records"}),(0,n.jsx)("p",{children:"• Contact support if you need assistance"})]})]})]})})]})]})})})}},97487:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var n=a(7283);let r={applyForLoan:async e=>{try{return(await n.uE.post("/loans/apply",e)).data}catch(e){throw console.error("Failed to apply for loan:",e),e}},getMyApplications:async()=>{try{return(await n.uE.get("/loans/my-applications")).data}catch(e){throw console.error("Failed to fetch loan applications:",e),e}},getApplication:async e=>{try{return(await n.uE.get("/loans/".concat(e))).data}catch(e){throw console.error("Failed to fetch loan application:",e),e}},getMyLoans:async()=>{try{return(await n.uE.get("/loans/my-loans")).data}catch(e){throw console.error("Failed to fetch user loans:",e),e}},getLoanStats:async()=>{try{return(await n.uE.get("/loans/stats")).data}catch(e){throw console.error("Failed to fetch loan stats:",e),e}},makePayment:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"INSTALLMENT";try{return(await n.uE.post("/loans/".concat(e,"/payments"),{amount:t,type:a})).data}catch(e){throw console.error("Failed to make payment:",e),e}},getPaymentHistory:async e=>{try{return(await n.uE.get("/loans/".concat(e,"/payments"))).data}catch(e){throw console.error("Failed to fetch payment history:",e),e}},cancelApplication:async e=>{try{await n.uE.delete("/loans/applications/".concat(e))}catch(e){throw console.error("Failed to cancel application:",e),e}},requestEarlyRepayment:async e=>{try{return(await n.uE.post("/loans/".concat(e,"/early-repayment"))).data}catch(e){throw console.error("Failed to request early repayment:",e),e}},getLoanAgreement:async e=>{try{return(await n.uE.get("/loans/".concat(e,"/agreement"))).data}catch(e){throw console.error("Failed to fetch loan agreement:",e),e}},acceptLoanAgreement:async e=>{try{await n.uE.post("/loans/".concat(e,"/accept-agreement"))}catch(e){throw console.error("Failed to accept loan agreement:",e),e}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[981,360,74,441,684,358],()=>t(7103)),_N_E=e.O()}]);