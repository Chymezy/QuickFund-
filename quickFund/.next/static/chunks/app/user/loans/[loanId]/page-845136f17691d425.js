(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{245:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},4605:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var a=s(95155),l=s(12115),n=s(35695),r=s(83459),c=s(44311),o=s(61608),i=s(95131),d=s(74310),m=s(52329),x=s(6874),h=s.n(x);function u(e){let{isOpen:t,onClose:s,title:n="Access Denied",message:r="You don't have permission to access this page. Please contact your administrator if you believe this is an error.",showHomeButton:x=!0,showBackButton:u=!0}=e;return(0,a.jsx)(c.e.Root,{show:t,as:l.Fragment,children:(0,a.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:s,children:[(0,a.jsx)(c.e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-slate-900/75 backdrop-blur-sm"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(c.e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(o.lG.Panel,{className:"relative transform overflow-hidden rounded-2xl bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(i.A,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,a.jsx)(o.lG.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-slate-900",children:n}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-slate-600",children:r})})]})]}),(0,a.jsxs)("div",{className:"mt-6 sm:mt-4 sm:flex sm:flex-row-reverse gap-3",children:[x&&(0,a.jsxs)(h(),{href:"/user",className:"inline-flex w-full justify-center rounded-lg bg-cyan-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-cyan-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600 sm:w-auto",onClick:s,children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Go to Dashboard"]}),u&&(0,a.jsxs)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-lg bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm ring-1 ring-inset ring-slate-300 hover:bg-slate-50 sm:mt-0 sm:w-auto",onClick:s,children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})]})})})})]})})}function p(e){let{children:t,fallback:s,requiredRole:c,redirectTo:o="/login"}=e,i=(0,n.useRouter)(),{user:d,isAuthenticated:m,isLoading:x}=(0,r.nc)(),[h,p]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=setTimeout(()=>{p(!0)},100);return()=>clearTimeout(e)},[]),(0,l.useEffect)(()=>{!h||x||m?h&&!x&&c&&(null==d?void 0:d.role)!==c&&g(!0):i.push(o)},[m,x,h,i,c,null==d?void 0:d.role,o]),!h||x)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading..."})]})}):m?c&&(null==d?void 0:d.role)!==c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{isOpen:y,onClose:()=>{g(!1),(null==d?void 0:d.role)==="ADMIN"?i.push("/admin"):i.push("/user")},title:"Access Denied",message:"This page requires ".concat(c," privileges. You currently have ").concat(null==d?void 0:d.role," access."),showHomeButton:!0,showBackButton:!1}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Checking permissions..."})]})})]}):(0,a.jsx)(a.Fragment,{children:t}):s||(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Redirecting to login..."})]})})}},6119:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},27993:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},39072:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},41380:(e,t,s)=>{Promise.resolve().then(s.bind(s,68722))},43066:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))})},43274:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))})},57884:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(95155),l=s(52074);function n(){return(0,a.jsxs)("footer",{className:"text-white text-sm text-center py-6",style:{backgroundColor:"var(--color-deep)"},children:["\xa9 ",new Date().getFullYear()," QuickFund. All rights reserved."]})}function r(e){let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.default,{}),(0,a.jsx)("main",{className:"flex flex-grow flex-col",children:t}),(0,a.jsx)(n,{})]})}},65499:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(7283);let l={makePayment:async(e,t)=>{try{var s;return(await a.uE.post("/payments/repay",{loanId:e,amount:t.amount,type:"LOAN_REPAYMENT",paymentMethod:(null==(s=t.paymentMethod)?void 0:s.toLowerCase())||"card",notes:t.notes,...t.cardNumber&&{cardNumber:t.cardNumber},...t.expiry&&{expiry:t.expiry},...t.cvv&&{cvv:t.cvv},...t.virtualAccountNumber&&{virtualAccountNumber:t.virtualAccountNumber}})).data}catch(e){throw console.error("Failed to make payment:",e),e}},getPaymentHistory:async(e,t)=>{try{var s,l,n;let r=await a.uE.get("/payments/loan/".concat(e,"/payments"),{params:t});return{payments:r.data.payments||[],total:(null==(s=r.data.pagination)?void 0:s.total)||0,page:(null==(l=r.data.pagination)?void 0:l.page)||1,limit:(null==(n=r.data.pagination)?void 0:n.limit)||10}}catch(e){throw console.error("Failed to fetch payment history:",e),e}},getMyPayments:async e=>{try{return(await a.uE.get("/payments/my-payments",{params:e})).data}catch(e){throw console.error("Failed to fetch user payments:",e),e}},getPayment:async e=>{try{return(await a.uE.get("/payments/".concat(e))).data}catch(e){throw console.error("Failed to fetch payment:",e),e}},getPaymentReceipt:async e=>{try{return(await a.uE.get("/payments/".concat(e,"/receipt"),{responseType:"blob"})).data}catch(e){throw console.error("Failed to fetch payment receipt:",e),e}},cancelPayment:async e=>{try{await a.uE.delete("/payments/".concat(e))}catch(e){throw console.error("Failed to cancel payment:",e),e}},getPaymentMethods:async()=>{try{return(await a.uE.get("/payments/methods")).data}catch(e){throw console.error("Failed to fetch payment methods:",e),e}},addPaymentMethod:async e=>{try{return(await a.uE.post("/payments/methods",e)).data}catch(e){throw console.error("Failed to add payment method:",e),e}},removePaymentMethod:async e=>{try{await a.uE.delete("/payments/methods/".concat(e))}catch(e){throw console.error("Failed to remove payment method:",e),e}}}},68722:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(95155),l=s(12115),n=s(35695),r=s(57884),c=s(4605),o=s(97487),i=s(65499),d=s(39072),m=s(90319),x=s(245),h=s(27993),u=s(52329),p=s(23571),y=s(90300),g=s(6119),j=s(43066),f=s(43274);function b(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),s=e.loanId,[b,v]=(0,l.useState)(null),[N,w]=(0,l.useState)([]),[A,E]=(0,l.useState)(!0),[k,L]=(0,l.useState)(null),[P,F]=(0,l.useState)({totalPaid:0,remainingBalance:0,paymentsCount:0,nextPaymentDue:0});(0,l.useEffect)(()=>{s&&M()},[s]);let M=async()=>{E(!0),L(null);try{let[e,t]=await Promise.all([o.p.getApplication(s),i.Z.getPaymentHistory(s,{limit:50})]);v(e),w(t.payments||e.paymentHistory||[]);let a=N.reduce((e,t)=>e+t.amount,0),l=Math.max(0,(e.totalAmount||e.amount)-a),n=e.monthlyPayment||0;F({totalPaid:a,remainingBalance:l,paymentsCount:N.length,nextPaymentDue:n})}catch(s){var e,t;L((null==(t=s.response)||null==(e=t.data)?void 0:e.message)||s.message||"Failed to load loan details.")}finally{E(!1)}},C=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),T=e=>new Date(e).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"}),D=e=>new Date(e).toLocaleString("en-NG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(A)return(0,a.jsx)(c.A,{children:(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"py-16 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading loan details..."})]})})});if(k)return(0,a.jsx)(c.A,{children:(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"py-16 text-center",children:[(0,a.jsx)(d.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Error"}),(0,a.jsx)("p",{className:"text-slate-600 mb-6",children:k}),(0,a.jsx)("button",{onClick:M,className:"px-6 py-3 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition-colors",children:"Try Again"})]})})});if(!b)return null;let R={PENDING:{label:"Pending",color:"text-yellow-600",bg:"bg-yellow-50",icon:m.A},APPROVED:{label:"Approved",color:"text-green-600",bg:"bg-green-50",icon:x.A},REJECTED:{label:"Rejected",color:"text-red-600",bg:"bg-red-50",icon:h.A},ACTIVE:{label:"Active",color:"text-blue-600",bg:"bg-blue-50",icon:x.A},COMPLETED:{label:"Completed",color:"text-gray-600",bg:"bg-gray-50",icon:x.A}},B=R[b.status]||R.PENDING;return(0,a.jsx)(c.A,{children:(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>t.push("/user/loans"),className:"text-cyan-600 hover:text-cyan-700 text-sm font-medium flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"Back to Loans"]}),(0,a.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ".concat(B.bg," ").concat(B.color),children:[(0,a.jsx)(B.icon,{className:"w-4 h-4"}),B.label]})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Loan Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-6 h-6 text-cyan-600"}),"Loan Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Loan Amount"}),(0,a.jsx)("p",{className:"text-xl font-bold text-slate-900",children:C(b.amount)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Purpose"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:b.purpose})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Term"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-slate-900",children:[b.term," months"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Interest Rate"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-slate-900",children:[b.interestRate,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Monthly Payment"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:C(b.monthlyPayment)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Total Amount"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:C(b.totalAmount)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Applied"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:T(b.createdAt)})]}),b.approvedDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Approved"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:T(b.approvedDate)})]}),b.disbursedDate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:"Disbursed"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:T(b.disbursedDate)})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-6 h-6 text-cyan-600"}),"Payment History"]}),0===N.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(y.A,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600 mb-4",children:"No payments made yet for this loan."}),"ACTIVE"===b.status&&(0,a.jsx)("button",{onClick:()=>t.push("/user/repayment/".concat(b.id)),className:"px-6 py-3 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition-colors",children:"Make Your First Payment"})]}):(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-slate-600 border-b border-slate-200",children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Date"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Amount"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Type"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Reference"})]})}),(0,a.jsx)("tbody",{children:N.map(e=>(0,a.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:T(e.paidAt||e.dueDate)}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:D(e.paidAt||e.dueDate)})]})}),(0,a.jsx)("td",{className:"px-4 py-3 font-semibold",children:C(e.amount)}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat("INSTALLMENT"===e.type?"bg-blue-50 text-blue-600":"EARLY_REPAYMENT"===e.type?"bg-green-50 text-green-600":"bg-orange-50 text-orange-600"),children:["INSTALLMENT"===e.type&&(0,a.jsx)(g.A,{className:"w-3 h-3"}),"EARLY_REPAYMENT"===e.type&&(0,a.jsx)(j.A,{className:"w-3 h-3"}),"LATE_FEE"===e.type&&(0,a.jsx)(d.A,{className:"w-3 h-3"}),e.type.replace("_"," ")]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat("COMPLETED"===e.status?"bg-green-50 text-green-600":"PENDING"===e.status?"bg-yellow-50 text-yellow-600":"bg-red-50 text-red-600"),children:["COMPLETED"===e.status&&(0,a.jsx)(x.A,{className:"w-3 h-3"}),"PENDING"===e.status&&(0,a.jsx)(m.A,{className:"w-3 h-3"}),"FAILED"===e.status&&(0,a.jsx)(h.A,{className:"w-3 h-3"}),e.status]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"font-mono text-xs text-slate-600",children:e.type||"N/A"})})]},e.id))})]})})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"w-5 h-5 text-cyan-600"}),"Payment Summary"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Total Paid:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:C(P.totalPaid)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Remaining Balance:"}),(0,a.jsx)("span",{className:"font-semibold ".concat(P.remainingBalance>0?"text-red-600":"text-green-600"),children:C(P.remainingBalance)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Payments Made:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:P.paymentsCount})]}),"ACTIVE"===b.status&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Next Payment:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:C(P.nextPaymentDue)})]})]})]}),"ACTIVE"===b.status&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>t.push("/user/repayment/".concat(b.id)),className:"w-full px-4 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-5 h-5"}),"Make Payment"]}),(0,a.jsxs)("button",{onClick:()=>t.push("/user/agreement/".concat(b.id)),className:"w-full px-4 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5"}),"View Agreement"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Loan Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Status:"}),(0,a.jsx)("span",{className:"font-semibold ".concat(B.color),children:B.label})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Applied:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:T(b.createdAt)})]}),b.updatedAt&&b.updatedAt!==b.createdAt&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-slate-600",children:"Last Updated:"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900",children:T(b.updatedAt)})]})]})]})]})]})]})})})}},90300:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},90319:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},97487:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var a=s(7283);let l={applyForLoan:async e=>{try{return(await a.uE.post("/loans/apply",e)).data}catch(e){throw console.error("Failed to apply for loan:",e),e}},getMyApplications:async()=>{try{return(await a.uE.get("/loans/my-applications")).data}catch(e){throw console.error("Failed to fetch loan applications:",e),e}},getApplication:async e=>{try{return(await a.uE.get("/loans/".concat(e))).data}catch(e){throw console.error("Failed to fetch loan application:",e),e}},getMyLoans:async()=>{try{return(await a.uE.get("/loans/my-loans")).data}catch(e){throw console.error("Failed to fetch user loans:",e),e}},getLoanStats:async()=>{try{return(await a.uE.get("/loans/stats")).data}catch(e){throw console.error("Failed to fetch loan stats:",e),e}},makePayment:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"INSTALLMENT";try{return(await a.uE.post("/loans/".concat(e,"/payments"),{amount:t,type:s})).data}catch(e){throw console.error("Failed to make payment:",e),e}},getPaymentHistory:async e=>{try{return(await a.uE.get("/loans/".concat(e,"/payments"))).data}catch(e){throw console.error("Failed to fetch payment history:",e),e}},cancelApplication:async e=>{try{await a.uE.delete("/loans/applications/".concat(e))}catch(e){throw console.error("Failed to cancel application:",e),e}},requestEarlyRepayment:async e=>{try{return(await a.uE.post("/loans/".concat(e,"/early-repayment"))).data}catch(e){throw console.error("Failed to request early repayment:",e),e}},getLoanAgreement:async e=>{try{return(await a.uE.get("/loans/".concat(e,"/agreement"))).data}catch(e){throw console.error("Failed to fetch loan agreement:",e),e}},acceptLoanAgreement:async e=>{try{await a.uE.post("/loans/".concat(e,"/accept-agreement"))}catch(e){throw console.error("Failed to accept loan agreement:",e),e}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[981,360,629,74,441,684,358],()=>t(41380)),_N_E=e.O()}]);