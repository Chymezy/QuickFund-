(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{245:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},22264:(e,t,a)=>{"use strict";a.d(t,{DY:()=>d,Yq:()=>c,kW:()=>l,vv:()=>i});var n=a(90319),r=a(27993),s=a(245);let l=[{id:"LOAN-001",amount:25e5,purpose:"Business Expansion",status:"approved",appliedDate:"2024-01-15",approvedDate:"2024-01-17",disbursedDate:"2024-01-18",term:"24 months",interestRate:"18%",monthlyPayment:125e3,remainingBalance:225e4,nextPaymentDate:"2024-02-18"},{id:"LOAN-002",amount:1e6,purpose:"Personal Expenses",status:"pending",appliedDate:"2024-01-20",approvedDate:null,disbursedDate:null,term:"12 months",interestRate:"20%",monthlyPayment:92e3,remainingBalance:null,nextPaymentDate:null},{id:"LOAN-003",amount:5e5,purpose:"Education",status:"rejected",appliedDate:"2024-01-10",approvedDate:null,disbursedDate:null,term:"18 months",interestRate:"22%",monthlyPayment:35e3,remainingBalance:null,nextPaymentDate:null,rejectionReason:"Insufficient income documentation"},{id:"LOAN-004",amount:3e6,purpose:"Home Improvement",status:"active",appliedDate:"2023-11-15",approvedDate:"2023-11-17",disbursedDate:"2023-11-18",term:"36 months",interestRate:"16%",monthlyPayment:105e3,remainingBalance:21e5,nextPaymentDate:"2024-02-18"},{id:"LOAN-005",amount:15e5,purpose:"Vehicle Purchase",status:"active",appliedDate:"2023-10-20",approvedDate:"2023-10-22",disbursedDate:"2023-10-23",term:"48 months",interestRate:"19%",monthlyPayment:45e3,remainingBalance:12e5,nextPaymentDate:"2024-02-23"},{id:"LOAN-006",amount:8e5,purpose:"Medical Expenses",status:"pending",appliedDate:"2024-01-25",approvedDate:null,disbursedDate:null,term:"15 months",interestRate:"21%",monthlyPayment:65e3,remainingBalance:null,nextPaymentDate:null}],o={pending:{label:"Under Review",icon:n.A,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},rejected:{label:"Rejected",icon:r.A,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"},active:{label:"Active",icon:s.A,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}},i=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),c=e=>new Date(e).toLocaleDateString("en-NG",{year:"numeric",month:"long",day:"numeric"}),d=e=>o[e]||o.pending},24910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(95155),r=a(12115),s=a(57884),l=a(90319),o=a(245),i=a(27993),c=a(58346),d=a(90308),u=a(69413),m=a(45995),p=a(22264);function h(){let[e,t]=(0,r.useState)(""),[a,h]=(0,r.useState)("all"),[x,g]=(0,r.useState)("date"),[y,f]=(0,r.useState)([]),[w,v]=(0,r.useState)(!0),[b,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{v(!0),j(null);try{let e=await m.j.getAllLoans({limit:100});f(e.loans||[])}catch(a){var e,t;j((null==a||null==(t=a.response)||null==(e=t.data)?void 0:e.message)||(null==a?void 0:a.message)||"Failed to load applications.")}finally{v(!1)}})()},[]);let N=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e),E=(0,r.useMemo)(()=>{let t=y;return"all"!==a&&(t=t.filter(e=>e.status===a)),e&&(t=t.filter(t=>t.id.toLowerCase().includes(e.toLowerCase())||t.purpose.toLowerCase().includes(e.toLowerCase()))),t.sort((e,t)=>"date"===x?new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime():t.amount-e.amount),t},[e,a,x,y]),A=e=>{switch(e){case"PENDING":default:return l.A;case"APPROVED":case"ACTIVE":return o.A;case"REJECTED":return i.A}};return(0,n.jsx)(s.A,{children:(0,n.jsx)("div",{className:"py-8 sm:py-12 md:py-16 lg:py-20 bg-white",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"mb-8 sm:mb-12",children:[(0,n.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-3 sm:mb-4",children:"Loan Applications"}),(0,n.jsx)("p",{className:"text-sm sm:text-base text-slate-600",children:"Review and manage all loan applications"})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-4 sm:p-6 mb-8",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Search by ID or purpose...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors"})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("select",{value:a,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors",children:[(0,n.jsx)("option",{value:"all",children:"All Status"}),(0,n.jsx)("option",{value:"PENDING",children:"Pending"}),(0,n.jsx)("option",{value:"REJECTED",children:"Rejected"}),(0,n.jsx)("option",{value:"ACTIVE",children:"Active"})]})}),(0,n.jsx)("div",{children:(0,n.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors",children:[(0,n.jsx)("option",{value:"date",children:"Sort by Date"}),(0,n.jsx)("option",{value:"amount",children:"Sort by Amount"})]})}),(0,n.jsx)("div",{className:"flex items-center justify-end",children:(0,n.jsxs)("span",{className:"text-sm text-slate-600",children:[E.length," application",1!==E.length?"s":""]})})]})}),(0,n.jsx)("div",{className:"space-y-4",children:E.map(e=>{let t=(0,p.DY)(e.status),a=A(e.status);return(0,n.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 hover:shadow-lg transition-all duration-300",children:(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:e.id}),(0,n.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(t.bgColor," ").concat(t.color),children:[(0,n.jsx)(a,{className:"w-3 h-3"}),t.label]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-slate-600",children:"Amount"}),(0,n.jsx)("p",{className:"font-semibold text-slate-900",children:N(e.amount)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-slate-600",children:"Purpose"}),(0,n.jsx)("p",{className:"font-semibold text-slate-900",children:e.purpose})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-slate-600",children:"Applied"}),(0,n.jsx)("p",{className:"font-semibold text-slate-900",children:(0,p.Yq)(e.createdAt)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-slate-600",children:"Term"}),(0,n.jsx)("p",{className:"font-semibold text-slate-900",children:e.term})]})]}),"REJECTED"===e.status&&e.rejectionReason&&(0,n.jsx)("div",{className:"mt-3 p-3 bg-red-50 rounded-lg",children:(0,n.jsxs)("p",{className:"text-sm text-red-700",children:[(0,n.jsx)("span",{className:"font-medium",children:"Rejection Reason:"})," ",e.rejectionReason]})})]}),(0,n.jsx)("div",{className:"flex-shrink-0 flex gap-2",children:(0,n.jsxs)("a",{href:"/admin/applications/".concat(e.id),className:"inline-flex items-center gap-2 px-4 py-2 bg-cyan-600 text-white text-sm font-medium rounded-lg hover:bg-cyan-700 transition-colors",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),"Review"]})})]})},e.id)})}),0===E.length&&(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(u.A,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No applications found"}),(0,n.jsx)("p",{className:"text-slate-600",children:e||"all"!==a?"Try adjusting your search criteria or filters.":"No loan applications have been submitted yet."})]})]})})})}},27993:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},42276:(e,t,a)=>{Promise.resolve().then(a.bind(a,24910))},45995:(e,t,a)=>{"use strict";a.d(t,{i:()=>d,j:()=>u});var n=a(7283);let r=new Map,s=(e,t)=>{let a=t?JSON.stringify(t):"";return"".concat(e).concat(a)},l=e=>Date.now()-e<3e5,o=e=>{let t=r.get(e);return t&&l(t.timestamp)?t.data:null},i=(e,t)=>{r.set(e,{data:t,timestamp:Date.now()})},c=e=>{if(e)for(let t of r.keys())t.includes(e)&&r.delete(t);else r.clear()},d={getStats:async()=>{let e=s("admin/stats"),t=o(e);if(t)return t;try{let t=await n.uE.get("/admin/stats");return i(e,t.data),t.data}catch(e){throw console.error("Failed to fetch admin stats:",e),e}},getApplications:async e=>{let t=s("admin/applications",e),a=o(t);if(a)return a;try{let a=await n.uE.get("/admin/applications",{params:e});return i(t,a.data),a.data}catch(e){throw console.error("Failed to fetch applications:",e),e}},getApplication:async e=>{let t=s("admin/applications/".concat(e)),a=o(t);if(a)return a;try{let a=await n.uE.get("/admin/applications/".concat(e));return i(t,a.data),a.data}catch(e){throw console.error("Failed to fetch application:",e),e}},updateApplicationStatus:async(e,t,a)=>{try{let r=await n.uE.patch("/admin/applications/".concat(e),{status:t,notes:a});return c("admin/applications"),c("admin/stats"),r.data}catch(e){throw console.error("Failed to update application status:",e),e}},approveLoan:async(e,t)=>{try{let a=await n.uE.patch("/admin/applications/".concat(e),{status:"APPROVED",notes:t?"Approved amount: ".concat(t):void 0});return c("admin/applications"),c("admin/stats"),a.data}catch(e){throw console.error("Failed to approve loan:",e),e}},rejectLoan:async(e,t)=>{try{let a=await n.uE.patch("/admin/applications/".concat(e),{status:"REJECTED",notes:t});return c("admin/applications"),c("admin/stats"),a.data}catch(e){throw console.error("Failed to reject loan:",e),e}},getUsers:async e=>{let t=s("admin/users",e),a=o(t);if(a)return a;try{let a=await n.uE.get("/admin/users",{params:e});return i(t,a.data),a.data}catch(e){throw console.error("Failed to fetch users:",e),e}},getUser:async e=>{let t=s("admin/users/".concat(e)),a=o(t);if(a)return a;try{let a=await n.uE.get("/admin/users/".concat(e));return i(t,a.data),a.data}catch(e){throw console.error("Failed to fetch user:",e),e}},updateUser:async(e,t)=>{try{let a=await n.uE.patch("/admin/users/".concat(e),t);return c("admin/users"),c("admin/users/".concat(e)),a.data}catch(e){throw console.error("Failed to update user:",e),e}},deactivateUser:async e=>{try{let t=await n.uE.patch("/admin/users/".concat(e,"/deactivate"));return c("admin/users"),c("admin/users/".concat(e)),c("admin/stats"),t.data}catch(e){throw console.error("Failed to deactivate user:",e),e}},getPayments:async e=>{let t=s("admin/payments",e),a=o(t);if(a)return a;try{let a=await n.uE.get("/admin/payments",{params:e});return i(t,a.data),a.data}catch(e){throw console.error("Failed to fetch payments:",e),e}},getPayment:async e=>{let t=s("admin/payments/".concat(e)),a=o(t);if(a)return a;try{let a=await n.uE.get("/admin/payments/".concat(e));return i(t,a.data),a.data}catch(e){throw console.error("Failed to fetch payment:",e),e}},getLoanPaymentHistory:async(e,t)=>{let a=s("admin/loans/".concat(e,"/payments"),t),r=o(a);if(r)return r;try{let r=await n.uE.get("/admin/loans/".concat(e,"/payments"),{params:t});return i(a,r.data),r.data}catch(e){throw console.error("Failed to fetch loan payment history:",e),e}},exportData:async(e,t)=>{try{return(await n.uE.get("/admin/export/".concat(e),{params:t,responseType:"blob"})).data}catch(e){throw console.error("Failed to export data:",e),e}},clearCache:e=>{c(e)},bulkUpdateApplications:async(e,t,a)=>{try{let r=await n.uE.patch("/admin/applications/bulk",{ids:e,status:t,notes:a});return c("admin/applications"),c("admin/stats"),r.data}catch(e){throw console.error("Failed to bulk update applications:",e),e}},getSystemHealth:async()=>{try{return(await n.uE.get("/admin/health")).data}catch(e){throw console.error("Failed to fetch system health:",e),e}}},u={getAllLoans:async e=>{try{return{loans:(await d.getApplications(e)).applications}}catch(e){return console.error("Failed to fetch all loans:",e),{loans:[]}}},getLoanStatistics:async()=>{try{let e=await d.getStats();return{totalLoans:e.totalLoans,pendingLoans:e.pendingApplications,approvedLoans:e.activeLoans,rejectedLoans:e.totalLoans-e.pendingApplications-e.activeLoans}}catch(e){return console.error("Failed to fetch loan statistics:",e),{totalLoans:0,pendingLoans:0,approvedLoans:0,rejectedLoans:0}}},approveLoan:async(e,t)=>d.approveLoan(e,t),rejectLoan:async(e,t)=>d.rejectLoan(e,t)}},57884:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(95155),r=a(52074);function s(){return(0,n.jsxs)("footer",{className:"text-white text-sm text-center py-6",style:{backgroundColor:"var(--color-deep)"},children:["\xa9 ",new Date().getFullYear()," QuickFund. All rights reserved."]})}function l(e){let{children:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.default,{}),(0,n.jsx)("main",{className:"flex flex-grow flex-col",children:t}),(0,n.jsx)(s,{})]})}},58346:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},69413:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})},90308:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))})},90319:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(12115);let r=n.forwardRef(function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[981,360,74,441,684,358],()=>t(42276)),_N_E=e.O()}]);